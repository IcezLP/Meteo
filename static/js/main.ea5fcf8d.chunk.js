(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/loading.a2e6c828.svg"},32:function(e,t,a){e.exports=a.p+"static/media/background.e6656612.jpg"},33:function(e,t,a){e.exports=a.p+"static/media/background2.ff09edbe.jpg"},34:function(e,t,a){e.exports=a(65)},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),s=a.n(r),o=a(2),i=a(3),l=a(6),m=a(4),d=a(5),u=a(8),h=a(28),p=a(12),E={weather:{},forecast:{},loading:!1},f={},v=Object(u.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER":return Object(p.a)({},e,{weather:t.payload});case"GET_FORECAST":return Object(p.a)({},e,{forecast:t.payload});case"LOADING":return Object(p.a)({},e,{loading:!0});case"LOADED":return Object(p.a)({},e,{loading:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),g=[h.a],b=Object(u.e)(v,{},Object(u.d)(u.a.apply(void 0,g))),w=a(14),y=a(13),O=a(11),N=a(30),j=a.n(N),x=(a(44),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.forecast,t=e.list&&e.list.map(function(e,t){return 12===new Date(e.dt_txt).getHours()?c.a.createElement("div",{key:t,className:"level"},c.a.createElement("div",{children:"level-left"},c.a.createElement("div",{className:"level-item"},c.a.createElement(j.a,{className:"is-capitalized is-size-6",locale:"fr",format:"dddd DD"},e.dt_txt))),c.a.createElement("div",{className:"level-right"},c.a.createElement("div",{className:"level-item has-text-right has-text-centered-mobile"},c.a.createElement("div",null,c.a.createElement("p",{className:"is-size-6"},Math.round(e.main.temp),"\xb0C"),c.a.createElement("p",{className:"is-size-7 is-capitalized has-text-weight-light"},e.weather[0].description))))):null});return c.a.createElement("div",null,t)}}]),t}(n.Component)),C=a(7),S=a.n(C),k="0ea94cebcaebcce638e48d558f192b4d",R=function(){return{type:"LOADING"}},D=function(){return{type:"LOADED"}},T=a(31),G=a.n(T),_=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"loader"},c.a.createElement("img",{className:"loader-img",src:G.a,alt:"Loading..."}))}}]),t}(n.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"content has-text-centered"},c.a.createElement("hr",null)))}}]),t}(n.Component),z=a(32),B=a.n(z),F=a(33),W=a.n(F),H=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={city:"",units:"metric",search:"",errors:{}},e.onChange=e.onChange.bind(Object(O.a)(e)),e.onSubmit=e.onSubmit.bind(Object(O.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude,n=t.coords.longitude,c=e.state.units;e.props.getDataByGeolocation(a,n,c)}):alert("Your navigator doesn't support geolocation")}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.city,a=this.state.units;this.props.getDataBySearch(t,a)}},{key:"render",value:function(){var e,t=this.props.weather,a=t.weather,n=t.forecast,r=t.loading,s=this.state.errors;e=null===a||r?c.a.createElement(_,null):c.a.createElement("div",null,c.a.createElement(x,{forecast:n}));var o=(new Date).getHours();return c.a.createElement("div",{id:"weather"},c.a.createElement("div",{className:"header",style:{background:"url(".concat(o>=6||o<=19?W.a:B.a,") no-repeat center")}},c.a.createElement("div",{className:"main-data"},a.weather&&a.weather[0].id>="600"&&a.weather[0].id<="622"?c.a.createElement("div",{className:"winter-is-coming"},c.a.createElement("div",{className:"snow snow--near"}),c.a.createElement("div",{className:"snow snow--near snow--alt"}),c.a.createElement("div",{className:"snow snow--mid"}),c.a.createElement("div",{className:"snow snow--mid snow--alt"}),c.a.createElement("div",{className:"snow snow--far"}),c.a.createElement("div",{className:"snow snow--far snow--alt"})):null,a.weather&&c.a.createElement("p",{style:{fontSize:"2.5rem"},className:"has-text-centered has-text-weight-semibold has-text-white is-capitalized"},a.weather[0].description),a.name?c.a.createElement("h3",{style:{fontSize:"1.75rem"},className:"has-text-centered has-text-weight-normal has-text-white"},a.name,", ",a.sys&&c.a.createElement("span",{className:"is-uppercase"},a.sys.country)):null,a.main&&c.a.createElement("p",{style:{fontSize:"6rem"},className:"has-text-centered has-text-weight-bold has-text-white"},Math.round(a.main.temp),"\xb0"))),c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"columns is-centered"},c.a.createElement("div",{className:"column is-8 has-text-centered"},c.a.createElement("div",{className:"form-section",style:{marginTop:"25px"}},c.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},c.a.createElement("div",{className:"field has-addons has-addons-right"},c.a.createElement("div",{className:"control is-expanded"},c.a.createElement("label",{htmlFor:"city",hidden:!0},"Ville"),c.a.createElement("input",{className:"input custom-input",type:"text",id:"city",name:"city",placeholder:"Ville a rechercher",onChange:this.onChange,value:this.state.city})),c.a.createElement("div",{className:"control"},c.a.createElement("span",{className:"select"},c.a.createElement("label",{htmlFor:"units",hidden:!0},"Units"),c.a.createElement("select",{id:"units",name:"units",className:"custom-input",onChange:this.onChange},c.a.createElement("option",{value:"metric"},"\xb0C"),c.a.createElement("option",{value:"imperial"},"\xb0F")))),c.a.createElement("div",{className:"control"},c.a.createElement("button",{type:"submit",className:"button is-info submit-button"},"Rechercher"))),s.message&&c.a.createElement("span",null,s.message))))))),c.a.createElement("div",{className:"infos"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"columns is-centered"},c.a.createElement("div",{className:"column is-half"},e)))),c.a.createElement(A,null))}}]),t}(n.Component),L=Object(w.b)(function(e){return{weather:e.weather,forecast:e.weather,errors:e.errors}},{getDataByGeolocation:function(e,t,a){return function(n){n(R()),S.a.all([S.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=").concat(a,"&lang=fr&appid=").concat(k)),S.a.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&units=").concat(a,"&lang=fr&appid=").concat(k))]).then(S.a.spread(function(e,t){n({type:"GET_WEATHER",payload:e.data}),n({type:"GET_FORECAST",payload:t.data}),n(D())})).catch(function(e){n({type:"GET_ERRORS",payload:e.response.data}),n(D())})}},getDataBySearch:function(e,t){return function(a){a(R()),S.a.all([S.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=").concat(t,"&lang=fr&appid=").concat(k)),S.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=").concat(t,"&lang=fr&appid=").concat(k))]).then(S.a.spread(function(e,t){a({type:"GET_WEATHER",payload:e.data}),a({type:"GET_FORECAST",payload:t.data}),a(D())})).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data}),a(D())})}}})(H),I=(a(63),a(64),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(w.a,{store:b},c.a.createElement(L,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.ea5fcf8d.chunk.js.map