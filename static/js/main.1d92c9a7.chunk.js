(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/loading.a2e6c828.svg"},34:function(e,t,a){e.exports=a.p+"static/media/background.e6656612.jpg"},35:function(e,t,a){e.exports=a.p+"static/media/background2.ff09edbe.jpg"},37:function(e,t,a){e.exports=a(69)},46:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(29),s=a.n(r),o=a(4),i=a(5),l=a(7),m=a(6),d=a(8),u=a(12),p=a(30),h=a(14),E={weather:{},forecast:{},loading:!1},v={},f=Object(u.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER":return Object(h.a)({},e,{weather:t.payload});case"GET_FORECAST":return Object(h.a)({},e,{forecast:t.payload});case"LOADING":return Object(h.a)({},e,{loading:!0});case"LOADED":return Object(h.a)({},e,{loading:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),g=[p.a],b=Object(u.e)(f,{},Object(u.d)(u.a.apply(void 0,g))),w=a(72),y=a(73),O=a(16),N=(a(46),a(47),a(15)),j=a(13),x=a(32),C=a.n(x),S=(a(49),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.forecast,t=e.list&&e.list.map(function(e,t){return 12===new Date(e.dt_txt).getHours()?c.a.createElement("div",{key:t,className:"level"},c.a.createElement("div",{children:"level-left"},c.a.createElement("div",{className:"level-item"},c.a.createElement(C.a,{className:"is-capitalized is-size-6",locale:"fr",format:"dddd DD"},e.dt_txt))),c.a.createElement("div",{className:"level-right"},c.a.createElement("div",{className:"level-item has-text-right has-text-centered-mobile"},c.a.createElement("div",null,c.a.createElement("p",{className:"is-size-6"},Math.round(e.main.temp),"\xb0C"),c.a.createElement("p",{className:"is-size-7 is-capitalized has-text-weight-light"},e.weather[0].description))))):null});return c.a.createElement("div",null,t)}}]),t}(n.Component)),k=a(11),R=a.n(k),D="0ea94cebcaebcce638e48d558f192b4d",T=function(){return{type:"LOADING"}},G=function(){return{type:"LOADED"}},_=a(33),A=a.n(_),z=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"loader"},c.a.createElement("img",{className:"loader-img",src:A.a,alt:"Loading..."}))}}]),t}(n.Component),B=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"content has-text-centered"},c.a.createElement("hr",null)))}}]),t}(n.Component),F=a(34),W=a.n(F),H=a(35),L=a.n(H),I=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={city:"",units:"metric",search:"",errors:{}},e.onChange=e.onChange.bind(Object(j.a)(e)),e.onSubmit=e.onSubmit.bind(Object(j.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude,n=t.coords.longitude,c=e.state.units;e.props.getDataByGeolocation(a,n,c)}):alert("Your navigator doesn't support geolocation")}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.city,a=this.state.units;this.props.getDataBySearch(t,a)}},{key:"render",value:function(){var e,t=this.props.weather,a=t.weather,n=t.forecast,r=t.loading,s=this.state.errors;e=null===a||r?c.a.createElement(z,null):c.a.createElement("div",null,c.a.createElement(S,{forecast:n}));var o=(new Date).getHours();return c.a.createElement("div",{id:"weather"},c.a.createElement("div",{className:"header",style:{background:"url(".concat(o>=6||o<=19?L.a:W.a,") no-repeat center")}},c.a.createElement("div",{className:"main-data"},a.weather&&a.weather[0].id>="600"&&a.weather[0].id<="622"?c.a.createElement("div",{className:"winter-is-coming"},c.a.createElement("div",{className:"snow snow--near"}),c.a.createElement("div",{className:"snow snow--near snow--alt"}),c.a.createElement("div",{className:"snow snow--mid"}),c.a.createElement("div",{className:"snow snow--mid snow--alt"}),c.a.createElement("div",{className:"snow snow--far"}),c.a.createElement("div",{className:"snow snow--far snow--alt"})):null,a.weather&&c.a.createElement("p",{style:{fontSize:"2.5rem"},className:"has-text-centered has-text-weight-semibold has-text-white is-capitalized"},a.weather[0].description),a.name?c.a.createElement("h3",{style:{fontSize:"1.75rem"},className:"has-text-centered has-text-weight-normal has-text-white"},a.name,", ",a.sys&&c.a.createElement("span",{className:"is-uppercase"},a.sys.country)):null,a.main&&c.a.createElement("p",{style:{fontSize:"6rem"},className:"has-text-centered has-text-weight-bold has-text-white"},Math.round(a.main.temp),"\xb0"))),c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"columns is-centered"},c.a.createElement("div",{className:"column is-8 has-text-centered"},c.a.createElement("div",{className:"form-section",style:{marginTop:"25px"}},c.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},c.a.createElement("div",{className:"field has-addons has-addons-right"},c.a.createElement("div",{className:"control is-expanded"},c.a.createElement("label",{htmlFor:"city",hidden:!0},"Ville"),c.a.createElement("input",{className:"input custom-input",type:"text",id:"city",name:"city",placeholder:"Ville a rechercher",onChange:this.onChange,value:this.state.city})),c.a.createElement("div",{className:"control"},c.a.createElement("span",{className:"select"},c.a.createElement("label",{htmlFor:"units",hidden:!0},"Units"),c.a.createElement("select",{id:"units",name:"units",className:"custom-input",onChange:this.onChange},c.a.createElement("option",{value:"metric"},"\xb0C"),c.a.createElement("option",{value:"imperial"},"\xb0F")))),c.a.createElement("div",{className:"control"},c.a.createElement("button",{type:"submit",className:"button is-info submit-button"},"Rechercher"))),s.message&&c.a.createElement("span",null,s.message))))))),c.a.createElement("div",{className:"infos"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"columns is-centered"},c.a.createElement("div",{className:"column is-half"},e)))),c.a.createElement(B,null))}}]),t}(n.Component),M=Object(O.b)(function(e){return{weather:e.weather,forecast:e.weather,errors:e.errors}},{getDataByGeolocation:function(e,t,a){return function(n){n(T()),R.a.all([R.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=").concat(a,"&lang=fr&appid=").concat(D)),R.a.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&units=").concat(a,"&lang=fr&appid=").concat(D))]).then(R.a.spread(function(e,t){n({type:"GET_WEATHER",payload:e.data}),n({type:"GET_FORECAST",payload:t.data}),n(G())})).catch(function(e){n({type:"GET_ERRORS",payload:e.response.data}),n(G())})}},getDataBySearch:function(e,t){return function(a){a(T()),R.a.all([R.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=").concat(t,"&lang=fr&appid=").concat(D)),R.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=").concat(t,"&lang=fr&appid=").concat(D))]).then(R.a.spread(function(e,t){a({type:"GET_WEATHER",payload:e.data}),a({type:"GET_FORECAST",payload:t.data}),a(G())})).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data}),a(G())})}}})(I),V=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(O.a,{store:b},c.a.createElement(w.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(y.a,{exact:!0,path:"/",component:M}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.1d92c9a7.chunk.js.map